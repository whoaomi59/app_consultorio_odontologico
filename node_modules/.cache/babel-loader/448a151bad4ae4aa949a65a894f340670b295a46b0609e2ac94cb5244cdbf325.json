{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"../../../utils/navigation\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const TreatmentPlan=_ref=>{let{patient,treatments,onSavePlan}=_ref;const[selectedTreatments,setSelectedTreatments]=useState([]);const[observations,setObservations]=useState(\"\");const{navigateTo}=useNavigate();const handleAddTreatment=treatment=>{setSelectedTreatments([...selectedTreatments,treatment]);};const handleRemoveTreatment=treatmentId=>{setSelectedTreatments(selectedTreatments.filter(t=>t.id!==treatmentId));};const calculateTotal=()=>{return selectedTreatments.reduce((sum,t)=>sum+t.costo,0);};const handleSave=()=>{const plan={date:new Date().toISOString(),treatments:selectedTreatments,observations,total:calculateTotal(),status:\"pending\"};onSavePlan(plan);navigateTo(\"pacientes\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium\",children:[\"Plan de Tratamiento para \",patient.nombre]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"Procedimientos Disponibles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:treatments.map(treatment=>/*#__PURE__*/_jsx(\"div\",{className:\"p-2 border rounded hover:bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:treatment.nombre}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddTreatment(treatment),className:\"text-blue-600 hover:text-blue-800\",children:\"Agregar\"})]})},treatment.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-2\",children:\"Plan Propuesto\"}),selectedTreatments.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No hay procedimientos seleccionados\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:selectedTreatments.map(treatment=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border rounded flex justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:treatment.nombre}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"Costo: $\",treatment.costo]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveTreatment(treatment.id),className:\"text-red-600 hover:text-red-800\",children:\"Eliminar\"})]},treatment.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-medium mb-1\",children:\"Observaciones\"}),/*#__PURE__*/_jsx(\"textarea\",{value:observations,onChange:e=>setObservations(e.target.value),className:\"w-full p-2 border rounded\",rows:3})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"font-medium\",children:[\"Total: $\",calculateTotal()]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",children:\"Guardar Plan\"})]})]})]})]})]})]});};export default TreatmentPlan;","map":{"version":3,"names":["React","useState","useNavigate","jsxs","_jsxs","jsx","_jsx","TreatmentPlan","_ref","patient","treatments","onSavePlan","selectedTreatments","setSelectedTreatments","observations","setObservations","navigateTo","handleAddTreatment","treatment","handleRemoveTreatment","treatmentId","filter","t","id","calculateTotal","reduce","sum","costo","handleSave","plan","date","Date","toISOString","total","status","className","children","nombre","map","onClick","length","value","onChange","e","target","rows"],"sources":["C:/Users/whoaomi/Downloads/project (2)/src/pages/admin/tratamientos/TreatmentPlan.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"../../../utils/navigation\";\n\nconst TreatmentPlan = ({ patient, treatments, onSavePlan }) => {\n  const [selectedTreatments, setSelectedTreatments] = useState([]);\n  const [observations, setObservations] = useState(\"\");\n  const { navigateTo } = useNavigate();\n\n  const handleAddTreatment = (treatment) => {\n    setSelectedTreatments([...selectedTreatments, treatment]);\n  };\n\n  const handleRemoveTreatment = (treatmentId) => {\n    setSelectedTreatments(\n      selectedTreatments.filter((t) => t.id !== treatmentId)\n    );\n  };\n\n  const calculateTotal = () => {\n    return selectedTreatments.reduce((sum, t) => sum + t.costo, 0);\n  };\n\n  const handleSave = () => {\n    const plan = {\n      date: new Date().toISOString(),\n      treatments: selectedTreatments,\n      observations,\n      total: calculateTotal(),\n      status: \"pending\",\n    };\n    onSavePlan(plan);\n    navigateTo(\"pacientes\");\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <h3 className=\"text-lg font-medium\">\n        Plan de Tratamiento para {patient.nombre}\n      </h3>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"md:col-span-1\">\n          <h4 className=\"font-medium mb-2\">Procedimientos Disponibles</h4>\n          <div className=\"space-y-2\">\n            {treatments.map((treatment) => (\n              <div\n                key={treatment.id}\n                className=\"p-2 border rounded hover:bg-gray-50\"\n              >\n                <div className=\"flex justify-between\">\n                  <span>{treatment.nombre}</span>\n                  <button\n                    onClick={() => handleAddTreatment(treatment)}\n                    className=\"text-blue-600 hover:text-blue-800\"\n                  >\n                    Agregar\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <h4 className=\"font-medium mb-2\">Plan Propuesto</h4>\n          {selectedTreatments.length === 0 ? (\n            <p className=\"text-gray-500\">No hay procedimientos seleccionados</p>\n          ) : (\n            <div className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                {selectedTreatments.map((treatment) => (\n                  <div\n                    key={treatment.id}\n                    className=\"p-3 border rounded flex justify-between\"\n                  >\n                    <div>\n                      <p className=\"font-medium\">{treatment.nombre}</p>\n                      <p className=\"text-sm\">Costo: ${treatment.costo}</p>\n                    </div>\n                    <button\n                      onClick={() => handleRemoveTreatment(treatment.id)}\n                      className=\"text-red-600 hover:text-red-800\"\n                    >\n                      Eliminar\n                    </button>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"border-t pt-4\">\n                <div className=\"mb-4\">\n                  <label className=\"block font-medium mb-1\">\n                    Observaciones\n                  </label>\n                  <textarea\n                    value={observations}\n                    onChange={(e) => setObservations(e.target.value)}\n                    className=\"w-full p-2 border rounded\"\n                    rows={3}\n                  />\n                </div>\n\n                <div className=\"flex justify-between items-center\">\n                  <div className=\"font-medium\">Total: ${calculateTotal()}</div>\n                  <button\n                    onClick={handleSave}\n                    className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\n                  >\n                    Guardar Plan\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TreatmentPlan;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}