{"ast":null,"code":"import _objectSpread from\"C:/Users/whoaomi/Downloads/project (2)/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import PatientForm from\"../../../components/PatientForm\";import PatientList from\"../../../components/PatientList\";import PatientDetail from\"../../../components/PatientDetail\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PatientManagement=_ref=>{let{patients,onSelectPatient}=_ref;const[selectedPatient,setSelectedPatient]=useState(null);const[searchTerm,setSearchTerm]=useState(\"\");const handleSavePatient=patientData=>{if(selectedPatient){// Actualizar paciente existente\nonSelectPatient(patients.map(p=>p.id===selectedPatient.id?_objectSpread(_objectSpread({},patientData),{},{id:p.id}):p));}else{// Nuevo paciente\nconst newPatient=_objectSpread(_objectSpread({},patientData),{},{id:Date.now()});onSelectPatient([...patients,newPatient]);}setSelectedPatient(null);};const filteredPatients=patients.filter(patient=>\"\".concat(patient.nombre,\" \").concat(patient.apellido).toLowerCase().includes(searchTerm.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Buscar paciente...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition\"})}),/*#__PURE__*/_jsx(PatientList,{patients:filteredPatients,onSelect:patient=>{setSelectedPatient(patient);onSelectPatient(patient);},selectedId:selectedPatient===null||selectedPatient===void 0?void 0:selectedPatient.id})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:selectedPatient?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(PatientDetail,{patient:selectedPatient}),/*#__PURE__*/_jsx(PatientForm,{initialData:selectedPatient,onSave:handleSavePatient})]}):/*#__PURE__*/_jsx(PatientForm,{onSave:handleSavePatient})})]});};export default PatientManagement;","map":{"version":3,"names":["React","useState","PatientForm","PatientList","PatientDetail","jsx","_jsx","jsxs","_jsxs","PatientManagement","_ref","patients","onSelectPatient","selectedPatient","setSelectedPatient","searchTerm","setSearchTerm","handleSavePatient","patientData","map","p","id","_objectSpread","newPatient","Date","now","filteredPatients","filter","patient","concat","nombre","apellido","toLowerCase","includes","className","children","type","placeholder","value","onChange","e","target","onSelect","selectedId","initialData","onSave"],"sources":["C:/Users/whoaomi/Downloads/project (2)/src/pages/admin/pacientes/PatientManagement.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport PatientForm from \"../../../components/PatientForm\";\nimport PatientList from \"../../../components/PatientList\";\nimport PatientDetail from \"../../../components/PatientDetail\";\n\nconst PatientManagement = ({ patients, onSelectPatient }) => {\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const handleSavePatient = (patientData) => {\n    if (selectedPatient) {\n      // Actualizar paciente existente\n      onSelectPatient(\n        patients.map((p) =>\n          p.id === selectedPatient.id ? { ...patientData, id: p.id } : p\n        )\n      );\n    } else {\n      // Nuevo paciente\n      const newPatient = { ...patientData, id: Date.now() };\n      onSelectPatient([...patients, newPatient]);\n    }\n    setSelectedPatient(null);\n  };\n\n  const filteredPatients = patients.filter((patient) =>\n    `${patient.nombre} ${patient.apellido}`\n      .toLowerCase()\n      .includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n      <div className=\"lg:col-span-1\">\n        <div className=\"mb-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Buscar paciente...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition\"\n          />\n        </div>\n        <PatientList\n          patients={filteredPatients}\n          onSelect={(patient) => {\n            setSelectedPatient(patient);\n            onSelectPatient(patient);\n          }}\n          selectedId={selectedPatient?.id}\n        />\n      </div>\n      <div className=\"lg:col-span-2\">\n        {selectedPatient ? (\n          <div className=\"space-y-6\">\n            <PatientDetail patient={selectedPatient} />\n            <PatientForm\n              initialData={selectedPatient}\n              onSave={handleSavePatient}\n            />\n          </div>\n        ) : (\n          <PatientForm onSave={handleSavePatient} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PatientManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}